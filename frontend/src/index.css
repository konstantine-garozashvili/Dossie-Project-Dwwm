@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root, [data-theme="amethyst-haze"] {
    --color-amethyst-300: #c898f0;
    --color-amethyst-400: #a878f0;
    --color-amethyst-500: #9868e0;
    --color-amethyst-600: #7848b8;
    --color-amethyst-700: #482888;

    --color-gold-accent: #EFBF04; /* Example Accent from Figma suggestion */

    --color-neutral-50: #f9fafb;  /* Tailwind gray-50 */
    --color-neutral-100: #f3f4f6; /* Tailwind gray-100 */
    --color-neutral-200: #e5e7eb; /* Tailwind gray-200 */
    --color-neutral-300: #d1d5db; /* Tailwind gray-300 */
    --color-neutral-400: #9ca3af; /* Tailwind gray-400 */
    --color-neutral-500: #6b7280; /* Tailwind gray-500 */
    --color-neutral-600: #4b5563; /* Tailwind gray-600 */
    --color-neutral-700: #374151; /* Tailwind gray-700 */
    --color-neutral-800: #1f2937; /* Tailwind gray-800 */
    --color-neutral-900: #111827; /* Tailwind gray-900 */

    /* Shadcn UI compatible variables - Light Theme (Amethyst Haze) */
    --background: var(--color-neutral-100);
    --foreground: var(--color-neutral-800);

    --card: var(--color-neutral-50);
    --card-foreground: var(--color-neutral-800);

    --popover: var(--color-neutral-50);
    --popover-foreground: var(--color-neutral-800);

    --primary: var(--color-amethyst-500);
    --primary-foreground: var(--color-neutral-50);

    --secondary: var(--color-amethyst-600);
    --secondary-foreground: var(--color-neutral-50);

    --muted: var(--color-neutral-200);
    --muted-foreground: var(--color-neutral-500);

    --accent: var(--color-gold-accent);
    --accent-foreground: var(--color-neutral-900); /* Assuming gold is light enough for dark text */

    --destructive: #ef4444; /* Tailwind red-500 */
    --destructive-foreground: var(--color-neutral-50);

    --border: var(--color-neutral-300);
    --input: var(--color-neutral-300); /* border for inputs */
    --ring: var(--color-amethyst-400); /* focus ring */

    --radius: 0.5rem; /* Default radius from Shadcn */
  }

  .dark, [data-theme="dark"] { /* Assuming your dark mode toggle adds a 'dark' class to html/body */
    --color-slate-50: #f8fafc;
    --color-slate-100: #f1f5f9;
    --color-slate-200: #e2e8f0;
    --color-slate-300: #cbd5e1;
    --color-slate-400: #94a3b8;
    --color-slate-500: #64748b;
    --color-slate-600: #475569;
    --color-slate-700: #334155;
    --color-slate-800: #1e293b; /* Existing dark bg */
    --color-slate-850: #182231; /* Slightly darker for cards/dialogs if needed */
    --color-slate-900: #0f172a;

    --color-cyan-400: #22d3ee; /* Existing primary-like color */
    --color-cyan-600: #0891b2;
    
    /* Shadcn UI compatible variables - Dark Theme */
    --background: var(--color-slate-900);
    --foreground: var(--color-slate-200);

    --card: var(--color-slate-850);
    --card-foreground: var(--color-slate-200);

    --popover: var(--color-slate-800);
    --popover-foreground: var(--color-slate-200);

    --primary: var(--color-cyan-400);
    --primary-foreground: var(--color-slate-900);

    --secondary: var(--color-cyan-600);
    --secondary-foreground: var(--color-slate-100);

    --muted: var(--color-slate-700);
    --muted-foreground: var(--color-slate-400);

    --accent: var(--color-gold-accent); /* Gold can work on dark too */
    --accent-foreground: var(--color-slate-900);

    --destructive: #ef4444; /* Tailwind red-500 */
    --destructive-foreground: var(--color-slate-100);

    --border: var(--color-slate-700);
    --input: var(--color-slate-700);
    --ring: var(--color-cyan-400); /* focus ring for dark */

    /* --radius is same as light */
  }
}

/* Add global overflow control */
html, body {
  scroll-behavior: smooth;
  overflow-x: hidden;
  width: 100%;
  max-width: 100%;
  position: relative;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* Prevent horizontal overflow on all containers */
#root {
  overflow-x: hidden;
  width: 100%;
  position: relative;
}

/* Global fix for any absolutely positioned elements going outside viewport */
.absolute, [class*="absolute"] {
  max-width: 100vw;
}

/* Cross-browser compatible animations with smooth movement */
@-webkit-keyframes scroll {
  0% {
    -webkit-transform: translateX(0%);
  }
  100% {
    -webkit-transform: translateX(-50%);
  }
}

@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-50%);
  }
}

@-webkit-keyframes scroll-vertical {
  0% {
    -webkit-transform: translateY(0%);
  }
  100% {
    -webkit-transform: translateY(-50%);
  }
}

@keyframes scroll-vertical {
  0% {
    transform: translateY(0%);
  }
  100% {
    transform: translateY(-50%);
  }
}

/* Moderate animation speeds for 3D marquee */
.marquee-moderate {
  animation-duration: 18s !important;
}

/* Medium animation speeds for 3D marquee */
.marquee-medium {
  animation-duration: 22s !important;
}

/* Slower animation speeds for 3D marquee */
.marquee-slow {
  animation-duration: 25s !important;
}

/* Optimize animations for better performance */
@media (prefers-reduced-motion: reduce) {
  .animate-marquee,
  .animate-marquee-vertical,
  [class*="animate-"] {
    animation-duration: 60s !important;
    transition-duration: 60s !important;
  }
}

/* Glass effect fallbacks for browsers that don't support backdrop-filter */
.glass-card {
  background-color: rgba(30, 41, 59, 0.8);
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
}

@supports not ((backdrop-filter: blur(4px)) or (-webkit-backdrop-filter: blur(4px))) {
  .glass-card {
    background-color: rgba(30, 41, 59, 0.95);
  }
}

@layer utilities {
  .animation-delay-1000 {
    animation-delay: 1s;
    -webkit-animation-delay: 1s;
  }
  .animation-delay-2000 {
    animation-delay: 2s;
    -webkit-animation-delay: 2s;
  }
  .animation-delay-3000 {
    animation-delay: 3s;
    -webkit-animation-delay: 3s;
  }
  .animation-delay-4000 {
    animation-delay: 4s;
    -webkit-animation-delay: 4s;
  }
}

/* Lower CPU usage for animations */
.low-cpu-animation {
  backface-visibility: hidden;
  perspective: 1000;
  transform-style: preserve-3d;
  will-change: transform;
}

/* Optimized animation for better performance */
.optimized-animation {
  animation-timing-function: linear !important;
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* Internet Explorer fallbacks */
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  .marquee-fallback {
    animation-duration: 30s !important;
    animation-timing-function: linear !important;
  }
}

/* Reduce animation complexity for older browsers */
@supports (-ms-ime-align:auto) {
  .marquee-container {
    contain: layout style;
  }
} 